
<div class="all" style="height: 100%">
    <div>
      <app-header [collectionID]="this.collectionID" [keywords]="this.keywords" [view]="this.view" [isDataRetrieved]="this.isDataRetrieved" [numResults]="this.numResults"></app-header>  
      

        <!-- testing loading animations  -->
        <div *ngIf="!isDataRetrieved">
            <!-- <svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" style="margin:auto;background:#fff;display:block;" width="174px" height="174px" viewBox="0 0 100 100" preserveAspectRatio="xMidYMid">
                <g transform="translate(28,28)">
                  <rect x="-16" y="-16" width="32" height="32" fill="#e15b64">
                    <animateTransform attributeName="transform" type="scale" repeatCount="indefinite" dur="1s" keyTimes="0;1" values="1.2400000000000002;1" begin="-0.3s"></animateTransform>
                  </rect>
                </g>
                <g transform="translate(72,28)">
                  <rect x="-16" y="-16" width="32" height="32" fill="#f47e60">
                    <animateTransform attributeName="transform" type="scale" repeatCount="indefinite" dur="1s" keyTimes="0;1" values="1.2400000000000002;1" begin="-0.2s"></animateTransform>
                  </rect>
                </g>
                <g transform="translate(28,72)">
                  <rect x="-16" y="-16" width="32" height="32" fill="#f8b26a">
                    <animateTransform attributeName="transform" type="scale" repeatCount="indefinite" dur="1s" keyTimes="0;1" values="1.2400000000000002;1" begin="0s"></animateTransform>
                  </rect>
                </g>
                <g transform="translate(72,72)">
                  <rect x="-16" y="-16" width="32" height="32" fill="#abbd81">
                    <animateTransform attributeName="transform" type="scale" repeatCount="indefinite" dur="1s" keyTimes="0;1" values="1.2400000000000002;1" begin="-0.1s"></animateTransform>
                  </rect>
                </g>
                </svg> -->

            <svg style="margin:auto;background:#fff0;" width="50%" height="50%" viewBox="-4.97 0 100 100" preserveAspectRatio="xMidYMid">
                    <g transform="translate(20 20)">
                      <rect x="-15" y="-15" width="30" height="30" fill="#e15b64">
                        <animateTransform attributeName="transform" type="scale" repeatCount="indefinite" calcMode="spline" dur="1.8181818181818181s" values="1;1;0.2;1;1" keyTimes="0;0.2;0.5;0.8;1" keySplines="0.5 0.5 0.5 0.5;0 0.1 0.9 1;0.1 0 1 0.9;0.5 0.5 0.5 0.5" begin="-0.7272727272727273s"></animateTransform>
                      </rect></g>
                    <g transform="translate(50 20)">
                      <rect x="-15" y="-15" width="30" height="30" fill="#f47e60">
                        <animateTransform attributeName="transform" type="scale" repeatCount="indefinite" calcMode="spline" dur="1.8181818181818181s" values="1;1;0.2;1;1" keyTimes="0;0.2;0.5;0.8;1" keySplines="0.5 0.5 0.5 0.5;0 0.1 0.9 1;0.1 0 1 0.9;0.5 0.5 0.5 0.5" begin="-0.5454545454545454s"></animateTransform>
                      </rect></g>
                    <g transform="translate(80 20)">
                      <rect x="-15" y="-15" width="30" height="30" fill="#f8b26a">
                        <animateTransform attributeName="transform" type="scale" repeatCount="indefinite" calcMode="spline" dur="1.8181818181818181s" values="1;1;0.2;1;1" keyTimes="0;0.2;0.5;0.8;1" keySplines="0.5 0.5 0.5 0.5;0 0.1 0.9 1;0.1 0 1 0.9;0.5 0.5 0.5 0.5" begin="-0.36363636363636365s"></animateTransform>
                      </rect></g>
                    <g transform="translate(20 50)">
                      <rect x="-15" y="-15" width="30" height="30" fill="#f47e60">
                        <animateTransform attributeName="transform" type="scale" repeatCount="indefinite" calcMode="spline" dur="1.8181818181818181s" values="1;1;0.2;1;1" keyTimes="0;0.2;0.5;0.8;1" keySplines="0.5 0.5 0.5 0.5;0 0.1 0.9 1;0.1 0 1 0.9;0.5 0.5 0.5 0.5" begin="-0.5454545454545454s"></animateTransform>
                      </rect></g>
                    <g transform="translate(50 50)">
                      <rect x="-15" y="-15" width="30" height="30" fill="#f8b26a">
                        <animateTransform attributeName="transform" type="scale" repeatCount="indefinite" calcMode="spline" dur="1.8181818181818181s" values="1;1;0.2;1;1" keyTimes="0;0.2;0.5;0.8;1" keySplines="0.5 0.5 0.5 0.5;0 0.1 0.9 1;0.1 0 1 0.9;0.5 0.5 0.5 0.5" begin="-0.36363636363636365s"></animateTransform>
                      </rect></g>
                    <g transform="translate(80 50)">
                      <rect x="-15" y="-15" width="30" height="30" fill="#abbd81">
                        <animateTransform attributeName="transform" type="scale" repeatCount="indefinite" calcMode="spline" dur="1.8181818181818181s" values="1;1;0.2;1;1" keyTimes="0;0.2;0.5;0.8;1" keySplines="0.5 0.5 0.5 0.5;0 0.1 0.9 1;0.1 0 1 0.9;0.5 0.5 0.5 0.5" begin="-0.18181818181818182s"></animateTransform>
                      </rect></g>
                    <g transform="translate(20 80)">
                      <rect x="-15" y="-15" width="30" height="30" fill="#f8b26a">
                        <animateTransform attributeName="transform" type="scale" repeatCount="indefinite" calcMode="spline" dur="1.8181818181818181s" values="1;1;0.2;1;1" keyTimes="0;0.2;0.5;0.8;1" keySplines="0.5 0.5 0.5 0.5;0 0.1 0.9 1;0.1 0 1 0.9;0.5 0.5 0.5 0.5" begin="-0.36363636363636365s"></animateTransform>
                      </rect></g>
                    <g transform="translate(50 80)">
                      <rect x="-15" y="-15" width="30" height="30" fill="#abbd81">
                        <animateTransform attributeName="transform" type="scale" repeatCount="indefinite" calcMode="spline" dur="1.8181818181818181s" values="1;1;0.2;1;1" keyTimes="0;0.2;0.5;0.8;1" keySplines="0.5 0.5 0.5 0.5;0 0.1 0.9 1;0.1 0 1 0.9;0.5 0.5 0.5 0.5" begin="-0.18181818181818182s"></animateTransform>
                      </rect></g>
                    <g transform="translate(80 80)">
                      <rect x="-15" y="-15" width="30" height="30" fill="#849b87">
                        <animateTransform attributeName="transform" type="scale" repeatCount="indefinite" calcMode="spline" dur="1.8181818181818181s" values="1;1;0.2;1;1" keyTimes="0;0.2;0.5;0.8;1" keySplines="0.5 0.5 0.5 0.5;0 0.1 0.9 1;0.1 0 1 0.9;0.5 0.5 0.5 0.5" begin="0s"></animateTransform>
                      </rect></g>
                    
                    </svg>
                    <svg style="margin:auto;background:#fff0;" width="50%" height="50%" viewBox="4.97 0 100 100" preserveAspectRatio="xMidYMid">
                        <g transform="translate(20 20)">
                          <rect x="-15" y="-15" width="30" height="30" fill="#e15b64">
                            <animateTransform attributeName="transform" type="scale" repeatCount="indefinite" calcMode="spline" dur="2.8181818181818181s" values="1;1;0.2;1;1" keyTimes="0;0.2;0.5;0.8;1" keySplines="0.5 0.5 0.5 0.5;0 0.1 0.9 1;0.1 0 1 0.9;0.5 0.5 0.5 0.5" begin="-0.72727272s"></animateTransform>
                          </rect></g>
                        <g transform="translate(50 20)">
                          <rect x="-15" y="-15" width="30" height="30" fill="#f47e60">
                            <animateTransform attributeName="transform" type="scale" repeatCount="indefinite" calcMode="spline" dur="2.8181818181818181s" values="1;1;0.2;1;1" keyTimes="0;0.2;0.5;0.8;1" keySplines="0.5 0.5 0.5 0.5;0 0.1 0.9 1;0.1 0 1 0.9;0.5 0.5 0.5 0.5" begin="-0.54545454s"></animateTransform>
                          </rect></g>
                        <g transform="translate(80 20)">
                          <rect x="-15" y="-15" width="30" height="30" fill="#f8b26a">
                            <animateTransform attributeName="transform" type="scale" repeatCount="indefinite" calcMode="spline" dur="2.8181818181818181s" values="1;1;0.2;1;1" keyTimes="0;0.2;0.5;0.8;1" keySplines="0.5 0.5 0.5 0.5;0 0.1 0.9 1;0.1 0 1 0.9;0.5 0.5 0.5 0.5" begin="-0.363636363s"></animateTransform>
                          </rect></g>
                        <g transform="translate(20 50)">
                          <rect x="-15" y="-15" width="30" height="30" fill="#f47e60">
                            <animateTransform attributeName="transform" type="scale" repeatCount="indefinite" calcMode="spline" dur="2.8181818181818181s" values="1;1;0.2;1;1" keyTimes="0;0.2;0.5;0.8;1" keySplines="0.5 0.5 0.5 0.5;0 0.1 0.9 1;0.1 0 1 0.9;0.5 0.5 0.5 0.5" begin="-0.54545454s"></animateTransform>
                          </rect></g>
                        <g transform="translate(50 50)">
                          <rect x="-15" y="-15" width="30" height="30" fill="#f8b26a">
                            <animateTransform attributeName="transform" type="scale" repeatCount="indefinite" calcMode="spline" dur="2.8181818181818181s" values="1;1;0.2;1;1" keyTimes="0;0.2;0.5;0.8;1" keySplines="0.5 0.5 0.5 0.5;0 0.1 0.9 1;0.1 0 1 0.9;0.5 0.5 0.5 0.5" begin="-0.363636363s"></animateTransform>
                          </rect></g>
                        <g transform="translate(80 50)">
                          <rect x="-15" y="-15" width="30" height="30" fill="#abbd81">
                            <animateTransform attributeName="transform" type="scale" repeatCount="indefinite" calcMode="spline" dur="2.8181818181818181s" values="1;1;0.2;1;1" keyTimes="0;0.2;0.5;0.8;1" keySplines="0.5 0.5 0.5 0.5;0 0.1 0.9 1;0.1 0 1 0.9;0.5 0.5 0.5 0.5" begin="-0.181818181s"></animateTransform>
                          </rect></g>
                        <g transform="translate(20 80)">
                          <rect x="-15" y="-15" width="30" height="30" fill="#f8b26a">
                            <animateTransform attributeName="transform" type="scale" repeatCount="indefinite" calcMode="spline" dur="2.8181818181818181s" values="1;1;0.2;1;1" keyTimes="0;0.2;0.5;0.8;1" keySplines="0.5 0.5 0.5 0.5;0 0.1 0.9 1;0.1 0 1 0.9;0.5 0.5 0.5 0.5" begin="-0.3636363636s"></animateTransform>
                          </rect></g>
                        <g transform="translate(50 80)">
                          <rect x="-15" y="-15" width="30" height="30" fill="#abbd81">
                            <animateTransform attributeName="transform" type="scale" repeatCount="indefinite" calcMode="spline" dur="2.8181818181818181s" values="1;1;0.2;1;1" keyTimes="0;0.2;0.5;0.8;1" keySplines="0.5 0.5 0.5 0.5;0 0.1 0.9 1;0.1 0 1 0.9;0.5 0.5 0.5 0.5" begin="-0.1818181818s"></animateTransform>
                          </rect></g>
                        <g transform="translate(80 80)">
                          <rect x="-15" y="-15" width="30" height="30" fill="#849b87">
                            <animateTransform attributeName="transform" type="scale" repeatCount="indefinite" calcMode="spline" dur="2.8181818181818181s" values="1;1;0.2;1;1" keyTimes="0;0.2;0.5;0.8;1" keySplines="0.5 0.5 0.5 0.5;0 0.1 0.9 1;0.1 0 1 0.9;0.5 0.5 0.5 0.5" begin="0s"></animateTransform>
                          </rect></g>
                        
                        </svg> 
        </div>

        <div *ngIf="isDataRetrieved" class="gallery">
            <ng-template ngFor let-im [ngForOf]="this.images" let-i="index">
                <div class="imDiv">
                    <div (click)="this.clickImage(im)" >
                        <img class="im" src="data:image/png;base64,{{ im.b64 }}">
                    </div>
                    <div class="overlay flex">
                        <div class="{{im.liked? 'likedDiv' : 'likeDiv'}}" (click)="this.like(im.name)"></div>
                        <div class="zoomDiv" (click)="this.zoom(im)">
                            <img class="zoomIcon" src='../../assets/icons/zoom.svg' />
                        </div>
                    </div>
                </div>
            </ng-template>
        </div>
    </div>
    <div class="popup">
        <p-dialog header="{{zoomedIm.name}}" [(visible)]="popup" [modal]="true" [style]="{width: 'auto'}"
            [maximizable]="false" [draggable]="false" [resizable]="false">
            
            <div class="zoomedDiv">
              <img class="zoomed" src="data:image/png;base64,{{ zoomedIm.b64 }}">
              <div class="zoomedOverlay flex">
                <div class="{{zoomedIm.liked? 'likedDiv' : 'likeDiv'}}" (click)="this.like(zoomedIm.name)"></div>
              </div>
            </div>

        </p-dialog>
    </div>
</div>

      